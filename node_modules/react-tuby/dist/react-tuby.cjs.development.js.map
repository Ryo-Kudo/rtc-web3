{"version":3,"file":"react-tuby.cjs.development.js","sources":["../src/components/ClientRender.tsx","../src/components/ErrorBoundary.tsx","../src/shared/utils.ts","../src/components/Icons/CircularProgress.tsx","../src/components/ClickAwayListener.tsx","../src/components/Icons/Cog.tsx","../src/components/Icons/ExitFullScreen.tsx","../src/components/Icons/FullScreen.tsx","../src/components/Icons/Pause.tsx","../src/components/Effect/PauseEffect.tsx","../src/components/Icons/PictureInPicture.tsx","../src/components/Icons/Play.tsx","../src/components/Effect/PlayEffect.tsx","../src/components/Icons/Check.tsx","../src/components/Icons/ChevronLeft.tsx","../src/components/Icons/ChevronRight.tsx","../src/components/Icons/Quality.tsx","../src/components/Icons/SelectSubtitle.tsx","../src/components/Icons/Speed.tsx","../src/components/SettingsDialog.tsx","../src/components/SettingsModal.tsx","../src/components/Icons/Subtitle.tsx","../src/components/Icons/VolumeFull.tsx","../src/components/Icons/VolumeHalf.tsx","../src/components/Icons/VolumeMuted.tsx","../src/hooks/useEffectUpdate.ts","../src/components/Main.tsx","../src/index.tsx"],"sourcesContent":["import React, { FC, ReactElement, useEffect, useState } from \"react\";\n\nconst ClientRender: FC<{ children: ReactElement }> = ({ children }) => {\n  const [rendered, setRendered] = useState(typeof window === \"object\");\n\n  const typeofWindow = typeof window;\n\n  useEffect(() => {\n    if (window) setRendered(true);\n  }, [typeofWindow]);\n\n  if (rendered) return children;\n\n  return <></>;\n};\n\nexport default ClientRender;\n","import React, {\n  Component,\n  HTMLProps,\n  ReactElement,\n  Ref,\n  createRef,\n} from \"react\";\n\nimport { PlayerProps } from \"../shared/types\";\n\nclass ErrorBoundary extends Component<\n  PlayerProps & {\n    renderer?: (\n      ref: any,\n      props: HTMLProps<HTMLVideoElement> & { src: string }\n    ) => ReactElement;\n    children?: any;\n  },\n  { hasError: boolean }\n> {\n  playerRef: Ref<HTMLElement>;\n  videoProps: HTMLProps<HTMLVideoElement> & { src: string };\n\n  constructor(props: PlayerProps) {\n    super(props);\n    this.state = { hasError: false };\n    this.playerRef = createRef();\n\n    this.videoProps = {\n      crossOrigin: \"anonymous\",\n      playsInline: true,\n      controls: true,\n      src:\n        typeof this.props.src === \"string\"\n          ? this.props.src\n          : this.props.src[0].url,\n      children: (\n        <>\n          {this.props.subtitles &&\n            this.props.subtitles.length > 0 &&\n            this.props.subtitles.map((subtitle, index) => (\n              <track\n                key={subtitle.lang}\n                kind=\"subtitles\"\n                srcLang={subtitle.lang}\n                label={subtitle.language}\n                src={subtitle.url}\n                default={index === 0}\n              />\n            ))}\n        </>\n      ),\n    };\n  }\n  static getDerivedStateFromError() {\n    return { hasError: true };\n  }\n  render() {\n    if (this.state.hasError) {\n      return (\n        <div className=\"tuby-container\">\n          {this.props.renderer ? (\n            this.props.renderer(this.playerRef, this.videoProps)\n          ) : (\n            <video ref={this.playerRef as any} {...this.videoProps} />\n          )}\n        </div>\n      );\n    }\n    return this.props.children;\n  }\n}\n\nexport default ErrorBoundary;\n","export const formatVideoTime = (time: number) => {\n  try {\n    const date = new Date(0);\n    date.setSeconds(time);\n    const timeString = date.toISOString().slice(11, 19);\n    const result = timeString.startsWith(\"00:0\")\n      ? timeString.slice(4)\n      : timeString.startsWith(\"00\")\n      ? timeString.slice(3)\n      : timeString;\n    return result;\n  } catch (error) {\n    return \"0:00\";\n  }\n};\n\nexport const isMobile = () =>\n  /iPhone|iPad|iPod|Android/i.test(window?.navigator?.userAgent);\n","import React from \"react\";\n\nconst CircularProgress = () => {\n  return (\n    <svg className=\"tuby-progress\" viewBox=\"25 25 50 50\">\n      <circle cx=\"50\" cy=\"50\" r=\"20\"></circle>\n    </svg>\n  );\n};\n\nexport default CircularProgress;\n","import React, { FC, useEffect, useRef } from \"react\";\n\ninterface ClickAwayListenerProps {\n  onClickAway: () => void;\n  children: (ref: any) => any;\n}\n\nconst ClickAwayListener: FC<ClickAwayListenerProps> = ({\n  children,\n  onClickAway,\n}) => {\n  const childrenRef = useRef<HTMLElement>(null);\n\n  useEffect(() => {\n    const handler = (e: any) => {\n      if (childrenRef.current && !childrenRef.current.contains(e.target)) {\n        onClickAway();\n      }\n    };\n\n    window.addEventListener(\"click\", handler);\n\n    return () => window.removeEventListener(\"click\", handler);\n  }, [onClickAway]);\n\n  return <>{children(childrenRef)}</>;\n};\n\nexport default ClickAwayListener;\n","import React from \"react\";\n\nconst Cog = ({ ...others }) => {\n  return (\n    <svg\n      viewBox=\"0 0 50 50\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      {...others}\n    >\n      <path\n        d=\"M44.1242 27.4467C44.2208 26.6625 44.2852 25.8469 44.2852 25C44.2852 24.1531 44.2208 23.3689 44.1242 22.5533L49.5331 18.4128C50.016 18.0364 50.1448 17.3777 49.8228 16.8131L44.6715 8.15558C44.3818 7.62233 43.6735 7.40276 43.1262 7.62233L36.7192 10.1317C35.3992 9.12798 33.9504 8.31242 32.3728 7.68507L31.4069 1.03513C31.3425 0.439147 30.7952 0 30.1513 0H19.8487C19.2048 0 18.6897 0.439147 18.5931 1.03513L17.6272 7.68507C16.0818 8.31242 14.633 9.15935 13.2808 10.1317L6.87385 7.62233C6.29432 7.40276 5.61822 7.62233 5.32846 8.15558L0.17715 16.8131C-0.144806 17.3463 0.0161725 18.0364 0.466912 18.4128L5.87578 22.5533C5.7792 23.3375 5.7148 24.1844 5.7148 25C5.7148 25.8156 5.7792 26.6311 5.87578 27.4467L0.466912 31.5872C-0.0160232 31.9636 -0.144806 32.6223 0.17715 33.187L5.32846 41.8444C5.61822 42.3777 6.32652 42.5972 6.87385 42.3777L13.2808 39.8683C14.6008 40.872 16.0496 41.6876 17.6272 42.3149L18.5931 48.9649C18.6575 49.5609 19.2048 50 19.8487 50H30.1513C30.7952 50 31.3103 49.5609 31.4069 48.9649L32.3728 42.3149C33.9182 41.6876 35.367 40.8407 36.7192 39.8683L43.1262 42.3777C43.7057 42.5972 44.3818 42.3777 44.6715 41.8444L49.8228 33.187C50.1126 32.6537 49.9838 31.9636 49.5331 31.5872L44.1242 27.4467V27.4467ZM25 33.7516C20.0419 33.7516 15.9852 29.8306 15.9852 24.9686C15.9852 20.138 20.0097 16.1857 25 16.1857C29.9581 16.1857 34.0148 20.1067 34.0148 24.9686C34.0148 29.7992 29.9903 33.7516 25 33.7516Z\"\n        fill=\"white\"\n      />\n    </svg>\n  );\n};\n\nexport default Cog;\n","import React from \"react\";\n\nconst ExitFullScreen = ({ ...others }) => {\n  return (\n    <svg\n      viewBox=\"0 0 50 50\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      {...others}\n    >\n      <path d=\"M12.5 12.5H0V18.75H18.75V0H12.5V12.5Z\" fill=\"white\" />\n      <path d=\"M37.5 12.5V1.14441e-05H31.25V18.75H50V12.5H37.5Z\" fill=\"white\" />\n      <path d=\"M31.25 50H37.5V37.5H50V31.25H31.25V50Z\" fill=\"white\" />\n      <path d=\"M0 37.5H12.5V50H18.75V31.25H0V37.5Z\" fill=\"white\" />\n    </svg>\n  );\n};\n\nexport default ExitFullScreen;\n","import React from \"react\";\n\nconst FullScreen = ({ ...others }) => {\n  return (\n    <svg\n      viewBox=\"0 0 50 50\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      {...others}\n    >\n      <path d=\"M0 18.75H6.25V6.25H18.75V0H0V18.75Z\" fill=\"white\" />\n      <path d=\"M31.25 0V6.25H43.75V18.75H50V0H31.25Z\" fill=\"white\" />\n      <path d=\"M43.75 43.75H31.25V50H50V31.25H43.75V43.75Z\" fill=\"white\" />\n      <path d=\"M6.25 31.25H0V50H18.75V43.75H6.25V31.25Z\" fill=\"white\" />\n    </svg>\n  );\n};\n\nexport default FullScreen;\n","import React from \"react\";\n\nconst Pause = ({ ...others }) => {\n  return (\n    <svg\n      viewBox=\"0 0 50 50\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      {...others}\n    >\n      <path\n        d=\"M5 50H17.3077V0H5V50ZM32.6923 50H45V0H32.6923V50Z\"\n        fill=\"white\"\n      />\n    </svg>\n  );\n};\n\nexport default Pause;\n","import React, { FC } from \"react\";\n\nimport PauseIcon from \"../Icons/Pause\";\n\nconst PauseEffect: FC = () => {\n  return (\n    <div className=\"tuby-fade-zoom-out tuby-effect-icon\">\n      <PauseIcon className=\"tuby-icon-md\" />\n    </div>\n  );\n};\n\nexport default PauseEffect;\n","import React from \"react\";\n\nconst PictureInPicture = ({ ...others }) => {\n  return (\n    <svg\n      viewBox=\"0 0 50 50\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      {...others}\n    >\n      <path\n        d=\"M40.9091 22.6667H22.7273V36.6667H40.9091V22.6667ZM50 41.3333V8.62C50 6.05333 47.9545 4 45.4545 4H4.54545C2.04545 4 0 6.05333 0 8.62V41.3333C0 43.9 2.04545 46 4.54545 46H45.4545C47.9545 46 50 43.9 50 41.3333ZM45.4545 41.38H4.54545V8.59667H45.4545V41.38Z\"\n        fill=\"white\"\n      />\n    </svg>\n  );\n};\n\nexport default PictureInPicture;\n","import React from \"react\";\n\nconst Play = ({ ...others }) => {\n  return (\n    <svg\n      width=\"50\"\n      height=\"50\"\n      viewBox=\"0 0 26 26\"\n      fill=\"#FFFFFF\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      {...others}\n    >\n      <path d=\"M3 1V25L23 13L3 1Z\" />\n    </svg>\n  );\n};\n\nexport default Play;\n","import React, { FC } from \"react\";\n\nimport PlayIcon from \"../Icons/Play\";\n\nconst PlayEffect: FC = () => {\n  return (\n    <div className=\"tuby-fade-zoom-out tuby-effect-icon\">\n      <PlayIcon className=\"tuby-icon-md\" />\n    </div>\n  );\n};\n\nexport default PlayEffect;\n","import React from \"react\";\n\nconst Check = ({ ...others }) => {\n  return (\n    <svg\n      viewBox=\"0 0 50 50\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      {...others}\n    >\n      <path\n        d=\"M48.9536 8.08584C50.3488 9.53131 50.3488 11.8672 48.9536 13.3127L20.3806 42.9159C18.9854 44.3614 16.7308 44.3614 15.3357 42.9159L1.04604 28.1143C-0.34868 26.6688 -0.34868 24.3329 1.04604 22.8875C2.44098 21.442 4.70227 21.442 6.09744 22.8875L17.7577 35.0641L43.9087 8.08584C45.3039 6.63805 47.5585 6.63805 48.9536 8.08584Z\"\n        fill=\"#fff\"\n      />\n    </svg>\n  );\n};\n\nexport default Check;\n","import React from \"react\";\n\nconst ChevronLeft = ({ ...others }) => {\n  return (\n    <svg\n      viewBox=\"0 0 50 50\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      {...others}\n    >\n      <path\n        d=\"M40 5.875L21.4575 25L40 44.125L34.2915 50L10 25L34.2915 0L40 5.875Z\"\n        fill=\"white\"\n      />\n    </svg>\n  );\n};\n\nexport default ChevronLeft;\n","import React from \"react\";\n\nconst ChevronRight = ({ ...others }) => {\n  return (\n    <svg\n      viewBox=\"0 0 50 50\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      {...others}\n    >\n      <path\n        d=\"M10 44.125L28.5425 25L10 5.875L15.7085 0L40 25L15.7085 50L10 44.125Z\"\n        fill=\"white\"\n      />\n    </svg>\n  );\n};\n\nexport default ChevronRight;\n","import React from \"react\";\n\nconst Speed = ({ ...others }) => {\n  return (\n    <svg\n      viewBox=\"0 0 50 50\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      {...others}\n    >\n      <path\n        d=\"M33.3333 40.5294H50V43.3529H33.3333V40.5294ZM22.2222 40.5294H0V43.3529H22.2222V49H25V43.3529V40.5294V34.8824H22.2222V40.5294ZM30.5556 15.1176H33.3333V9.47059V6.64706V1H30.5556V6.64706H0V9.47059H30.5556V15.1176ZM41.6667 6.64706V9.47059H50V6.64706H41.6667ZM8.33333 32.0588H11.1111V26.4118V23.5882V17.9412H8.33333V23.5882H0V26.4118H8.33333V32.0588ZM19.4444 26.4118H50V23.5882H19.4444V26.4118Z\"\n        fill=\"white\"\n      />\n    </svg>\n  );\n};\n\nexport default Speed;\n","import React from \"react\";\n\nconst SelectSubtitle = ({ ...others }) => {\n  return (\n    <svg\n      viewBox=\"0 0 50 50\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      {...others}\n    >\n      <path\n        d=\"M8.33333 30.5556V19.4444C8.33333 17.9167 9.58333 16.6667 11.1111 16.6667H19.4444C20.9722 16.6667 22.2222 17.9167 22.2222 19.4444V22.2222H18.0556V20.8333H12.5V29.1667H18.0556V27.7778H22.2222V30.5556C22.2222 32.0833 20.9722 33.3333 19.4444 33.3333H11.1111C9.58333 33.3333 8.33333 32.0833 8.33333 30.5556ZM30.5556 33.3333H38.8889C40.4167 33.3333 41.6667 32.0833 41.6667 30.5556V27.7778H37.5V29.1667H31.9444V20.8333H37.5V22.2222H41.6667V19.4444C41.6667 17.9167 40.4167 16.6667 38.8889 16.6667H30.5556C29.0278 16.6667 27.7778 17.9167 27.7778 19.4444V30.5556C27.7778 32.0833 29.0278 33.3333 30.5556 33.3333ZM47.2222 2.77778H2.77778V47.2222H47.2222V2.77778ZM50 0V50H0V0.0277778C0 -2.58701e-08 -2.58701e-08 0 0.0277778 0H50Z\"\n        fill=\"white\"\n      />\n    </svg>\n  );\n};\n\nexport default SelectSubtitle;\n","import React from \"react\";\n\nconst Speed = ({ ...others }) => {\n  return (\n    <svg\n      viewBox=\"0 0 50 50\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      {...others}\n    >\n      <path\n        d=\"M20 15V35L35 25L20 15ZM10.75 7.5L9.25 5.5C13 2.5 17.5 0.5 22.5 0L22.75 2.5C18.25 3 14.25 4.75 10.75 7.5ZM7.5 10.75L5.5 9.25C2.5 13 0.5 17.5 0 22.5L2.5 22.75C3 18.25 4.75 14.25 7.5 10.75ZM7.5 39.25C4.75 35.75 3 31.5 2.5 27.25L0 27.5C0.5 32.5 2.5 37 5.5 41L7.5 39.25ZM22.75 47.5C18.25 47 14.25 45.25 10.75 42.5L9.25 44.5C13 47.5 17.5 49.5 22.5 50L22.75 47.5ZM50 25C50 12 40.25 1.5 27.5 0L27.25 2.5C38.75 3.75 47.5 13.25 47.5 25C47.5 36.75 38.75 46.25 27.25 47.5L27.5 50C40.5 48.75 50 38 50 25Z\"\n        fill=\"white\"\n      />\n    </svg>\n  );\n};\n\nexport default Speed;\n","import React, { FC, useEffect, useRef, useState } from \"react\";\n\nimport Check from \"./Icons/Check\";\nimport ChevronLeft from \"./Icons/ChevronLeft\";\nimport ChevronRight from \"./Icons/ChevronRight\";\nimport Quality from \"./Icons/Quality\";\nimport SelectSubtitle from \"./Icons/SelectSubtitle\";\nimport { SettingsProps } from \"../shared/types\";\nimport Speed from \"./Icons/Speed\";\n\nconst SettingsDialog: FC<SettingsProps> = ({\n  settingsActive,\n  src,\n  subtitles,\n  playbackSpeed,\n  setPlaybackSpeed,\n  subtitleIndex,\n  setSubtitleIndex,\n  quality,\n  setQuality,\n  internationalization,\n}) => {\n  const [height, setHeight] = useState(0);\n\n  const [activeSection, setActiveSection] = useState(\"main\");\n\n  const mainSectionRef = useRef<HTMLDivElement>(null);\n  const speedSectionRef = useRef<HTMLDivElement>(null);\n  const subtitlesSectionRef = useRef<HTMLDivElement>(null);\n  const qualitySectionRef = useRef<HTMLDivElement>(null);\n\n  const sections: { [key: string]: any } = {\n    main: mainSectionRef,\n    speed: speedSectionRef,\n    subtitles: subtitlesSectionRef,\n    quality: qualitySectionRef,\n  };\n\n  useEffect(() => {\n    if (sections[activeSection].current) {\n      const elementHeight = sections[activeSection].current.offsetHeight;\n      setHeight(elementHeight > 250 ? 250 : elementHeight);\n      sections[activeSection].current.scrollTo &&\n        sections[activeSection].current.scrollTo(0, 0);\n    }\n\n    // eslint-disable-next-line\n  }, [activeSection]);\n\n  return (\n    <div\n      className={`tuby-settings-dialog ${settingsActive ? \"tuby-show\" : \"\"}`}\n    >\n      <div style={{ height }} className=\"tuby-settings-outer\">\n        <div\n          ref={mainSectionRef}\n          className={`tuby-settings-section tuby-settings-py ${\n            activeSection === \"main\"\n              ? \"tuby-settings-translate-center\"\n              : \"tuby-settings-translate-left\"\n          }`}\n        >\n          <div\n            onClick={() => setActiveSection(\"speed\")}\n            className=\"tuby-settings-item\"\n          >\n            <div className=\"tuby-settings-item-left\">\n              <Speed className=\"tuby-icon-sm\" />\n              <p>\n                {internationalization?.settingsPlaybackSpeed ||\n                  \"Playback Speed\"}\n              </p>\n            </div>\n            <ChevronRight className=\"tuby-chevron\" />\n          </div>\n          {subtitles && (\n            <div\n              onClick={() => setActiveSection(\"subtitles\")}\n              className=\"tuby-settings-item\"\n            >\n              <div className=\"tuby-settings-item-left\">\n                <SelectSubtitle className=\"tuby-icon-sm\" />\n                <p>{internationalization?.settingsSubtitles || \"Subtitles\"}</p>\n              </div>\n              <ChevronRight style={{ width: 15, height: 15 }} />\n            </div>\n          )}\n          {typeof src !== \"string\" && (\n            <div\n              onClick={() => setActiveSection(\"quality\")}\n              className=\"tuby-settings-item\"\n            >\n              <div className=\"tuby-settings-item-left\">\n                <Quality className=\"tuby-icon-sm\" />\n                <p>{internationalization?.settingsQuality || \"Quality\"}</p>\n              </div>\n              <ChevronRight className=\"tuby-chevron\" />\n            </div>\n          )}\n        </div>\n\n        <div\n          ref={speedSectionRef}\n          className={`tuby-settings-section ${\n            activeSection === \"speed\"\n              ? \"tuby-settings-translate-center\"\n              : \"tuby-settings-translate-right\"\n          }`}\n        >\n          <div\n            onClick={() => setActiveSection(\"main\")}\n            className=\"tuby-settings-section-header\"\n          >\n            <ChevronLeft className=\"tuby-chevron\" />\n            <span>\n              {internationalization?.settingsPlaybackSpeed || \"Playback speed\"}\n            </span>\n          </div>\n          <div className=\"tuby-settings-py\">\n            {new Array(8)\n              .fill(\"\")\n              .map((_, index) =>\n                index === 3\n                  ? internationalization?.settingsPlaybackSpeedNormal ||\n                    \"Normal\"\n                  : (index + 1) / 4\n              )\n              .map((item, index) => (\n                <div\n                  key={item}\n                  onClick={() => {\n                    setPlaybackSpeed((index + 1) / 4);\n                    setActiveSection(\"main\");\n                  }}\n                  className=\"tuby-settings-item-2\"\n                >\n                  {playbackSpeed === (index + 1) / 4 ? (\n                    <Check className=\"tuby-chevron\" />\n                  ) : (\n                    <div style={{ width: 15, height: 15 }}></div>\n                  )}\n                  <span>{item}</span>\n                </div>\n              ))}\n          </div>\n        </div>\n\n        {subtitles && (\n          <div\n            ref={subtitlesSectionRef}\n            className={`tuby-settings-section ${\n              activeSection === \"subtitles\"\n                ? \"tuby-settings-translate-center\"\n                : \"tuby-settings-translate-right\"\n            }`}\n          >\n            <div\n              onClick={() => setActiveSection(\"main\")}\n              className=\"tuby-settings-section-header\"\n            >\n              <ChevronLeft className=\"tuby-chevron\" />\n              <span>\n                {internationalization?.settingsSubtitles || \"Subtitles\"}\n              </span>\n            </div>\n            <div className=\"tuby-settings-py\">\n              <div\n                onClick={() => {\n                  setSubtitleIndex(-1);\n                  setActiveSection(\"main\");\n                }}\n                className=\"tuby-settings-item-2\"\n              >\n                {subtitleIndex === -1 ? (\n                  <Check className=\"tuby-chevron\" />\n                ) : (\n                  <div style={{ width: 15, height: 15 }}></div>\n                )}\n                <span>\n                  {internationalization?.settingsSubtitlesOff || \"Off\"}\n                </span>\n              </div>\n              {subtitles.map((subtitle, index) => (\n                <div\n                  key={subtitle.lang}\n                  onClick={() => {\n                    setSubtitleIndex(index);\n                    setActiveSection(\"main\");\n                  }}\n                  className=\"tuby-settings-item-2\"\n                >\n                  {subtitleIndex === index ? (\n                    <Check className=\"tuby-chevron\" />\n                  ) : (\n                    <div style={{ width: 15, height: 15 }}></div>\n                  )}\n                  <span>{subtitle.language}</span>\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n\n        {typeof src !== \"string\" && (\n          <div\n            ref={qualitySectionRef}\n            className={`tuby-settings-section ${\n              activeSection === \"quality\"\n                ? \"tuby-settings-translate-center\"\n                : \"tuby-settings-translate-right\"\n            }`}\n          >\n            <div\n              onClick={() => setActiveSection(\"main\")}\n              className=\"tuby-settings-section-header\"\n            >\n              <ChevronLeft className=\"tuby-chevron\" />\n              <span>{internationalization?.settingsQuality || \"Quality\"}</span>\n            </div>\n            <div className=\"tuby-settings-py\">\n              {src.map((source, index) => (\n                <div\n                  key={source.quality}\n                  onClick={() => {\n                    setQuality(index);\n                    setActiveSection(\"main\");\n                  }}\n                  className=\"tuby-settings-item-2\"\n                >\n                  {quality === index ? (\n                    <Check className=\"tuby-chevron\" />\n                  ) : (\n                    <div style={{ width: 15, height: 15 }}></div>\n                  )}\n                  <span>\n                    {typeof source.quality === \"number\"\n                      ? `${source.quality}p`\n                      : source.quality}\n                  </span>\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\nexport default SettingsDialog;\n","import React, { FC } from \"react\";\n\nimport { SettingsProps } from \"../shared/types\";\n\nconst SettingsModal: FC<SettingsProps> = ({\n  settingsActive,\n  setSettingsActive,\n  src,\n  subtitles,\n  playbackSpeed,\n  setPlaybackSpeed,\n  subtitleIndex,\n  setSubtitleIndex,\n  quality,\n  setQuality,\n  internationalization,\n}) => {\n  return (\n    <div\n      onClick={() => setSettingsActive(false)}\n      className={`tuby-backdrop ${settingsActive ? \"tuby-show\" : \"\"}`}\n    >\n      <div onClick={e => e.stopPropagation()} className=\"tuby-modal\">\n        <h1>{internationalization?.tooltipsSettings || \"Settings\"}</h1>\n\n        <div>\n          <p>{internationalization?.settingsPlaybackSpeed || \"Speed\"}</p>\n          <select\n            value={playbackSpeed * 4 - 1}\n            onChange={e => setPlaybackSpeed((+e.target.value + 1) / 4)}\n          >\n            {new Array(8)\n              .fill(\"\")\n              .map((_, index) =>\n                index === 3\n                  ? internationalization?.settingsPlaybackSpeedNormal ||\n                    \"Normal\"\n                  : (index + 1) / 4\n              )\n              .map((item, index) => (\n                <option key={item} value={index}>\n                  {item}\n                </option>\n              ))}\n          </select>\n        </div>\n\n        {subtitles && (\n          <div>\n            <p>{internationalization?.settingsSubtitles || \"Subtitles\"}</p>\n            <select\n              value={subtitleIndex}\n              onChange={e => setSubtitleIndex(+e.target.value)}\n            >\n              <option value={-1}>\n                {internationalization?.settingsSubtitlesOff || \"Off\"}\n              </option>\n\n              {subtitles.map((subtitle, index) => (\n                <option\n                  key={subtitle.lang}\n                  onClick={() => {\n                    setSubtitleIndex(index);\n                  }}\n                  value={index}\n                >\n                  {subtitle.language}\n                </option>\n              ))}\n            </select>\n          </div>\n        )}\n\n        {typeof src === \"object\" && (\n          <div>\n            <p>{internationalization?.settingsQuality || \"Quality\"}</p>\n            <select value={quality} onChange={e => setQuality(+e.target.value)}>\n              {src.map((source, index) => (\n                <option\n                  key={source.quality}\n                  onClick={() => {\n                    setQuality(index);\n                  }}\n                  value={index}\n                >\n                  {typeof source.quality === \"number\"\n                    ? `${source.quality}p`\n                    : source.quality}\n                </option>\n              ))}\n            </select>\n          </div>\n        )}\n        <div className=\"tuby-modal-btn-container\">\n          <button\n            style={{ padding: 5 }}\n            onClick={() => setSettingsActive(false)}\n          >\n            {internationalization?.settingsModalOff || \"OK\"}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SettingsModal;\n","import React from \"react\";\n\nconst Subtitle = ({ ...others }) => {\n  return (\n    <svg\n      viewBox=\"0 0 50 50\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      {...others}\n    >\n      <path\n        d=\"M5.55556 5C2.47222 5 0 7.57143 0 10.7143V39.2857C0 42.4286 2.47222 45 5.55556 45H44.4444C47.5 45 50 42.4286 50 39.2857V10.7143C50 7.57143 47.5 5 44.4444 5H5.55556ZM22.2222 22.1429H18.0556V20.7143H12.5V29.2857H18.0556V27.8571H22.2222V30.7143C22.2222 32.2857 20.9722 33.5714 19.4444 33.5714H11.1111C9.58333 33.5714 8.33333 32.2857 8.33333 30.7143V19.2857C8.33333 17.7143 9.58333 16.4286 11.1111 16.4286H19.4444C20.9722 16.4286 22.2222 17.7143 22.2222 19.2857V22.1429ZM41.6667 22.1429H37.5V20.7143H31.9444V29.2857H37.5V27.8571H41.6667V30.7143C41.6667 32.2857 40.4167 33.5714 38.8889 33.5714H30.5556C29.0278 33.5714 27.7778 32.2857 27.7778 30.7143V19.2857C27.7778 17.7143 29.0278 16.4286 30.5556 16.4286H38.8889C40.4167 16.4286 41.6667 17.7143 41.6667 19.2857V22.1429Z\"\n        fill=\"white\"\n      />\n    </svg>\n  );\n};\n\nexport default Subtitle;\n","import React from \"react\";\n\nconst VolumeFull = ({ ...others }) => {\n  return (\n    <svg\n      viewBox=\"0 0 50 50\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      {...others}\n    >\n      <path\n        d=\"M0 33.5519H11.1111L25 47.805V2.19498L11.1111 16.4481H0V33.5519ZM30.5556 13.5975V36.4025C34.6667 34.4641 37.5 30.0456 37.5 25C37.5 20.0399 34.6667 15.707 30.5556 13.5975ZM30.5556 5.87229C38.5833 8.32383 44.4444 15.9635 44.4444 25C44.4444 34.0365 38.5833 41.6762 30.5556 44.1277V50C41.6944 47.4059 50 37.2007 50 25C50 12.7993 41.6944 2.59407 30.5556 0V5.87229Z\"\n        fill=\"white\"\n      />\n    </svg>\n  );\n};\n\nexport default VolumeFull;\n","import React from \"react\";\n\nconst VolumeHalf = ({ ...others }) => {\n  return (\n    <svg\n      viewBox=\"0 0 50 50\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      {...others}\n    >\n      <path\n        d=\"M0 34.375H14.8148L33.3333 50V0L14.8148 15.625H0V34.375ZM40.7407 12.5V37.5C46.2222 35.375 50 30.5312 50 25C50 19.5625 46.2222 14.8125 40.7407 12.5Z\"\n        fill=\"white\"\n      />\n    </svg>\n  );\n};\n\nexport default VolumeHalf;\n","import React from \"react\";\n\nconst VolumeMuted = ({ ...others }) => {\n  return (\n    <svg\n      viewBox=\"0 0 50 50\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      {...others}\n    >\n      <path\n        d=\"M37.5 25.0139C37.5 20.0945 34.6667 15.8699 30.5556 13.8132V19.9555L37.3611 26.7649C37.4444 26.209 37.5 25.6253 37.5 25.0139ZM44.4444 25.0139C44.4444 27.6265 43.8889 30.0723 42.9444 32.3513L47.1389 36.5481C48.9722 33.1017 50 29.1829 50 25.0139C50 13.1184 41.6944 3.16843 30.5556 0.667039V6.36465C38.5833 8.75487 44.4444 16.2034 44.4444 25.0139V25.0139ZM3.52778 0L0 3.50195L13.1111 16.6481H0V33.3241H11.1111L25 47.2207V28.5158L36.8056 40.328C34.9444 41.7732 32.8611 42.9127 30.5556 43.6076V49.333C34.3889 48.4714 37.8611 46.6926 40.8056 44.3024L46.4722 50L50 46.4703L25 21.4564L3.55556 0H3.52778ZM24.9722 2.75153L19.1667 8.53252L24.9722 14.3413V2.77932V2.75153Z\"\n        fill=\"white\"\n      />\n    </svg>\n  );\n};\n\nexport default VolumeMuted;\n","import { useEffect, useRef } from \"react\";\n\nexport const useEffectUpdate = (cb: Function, dependencies: any[]) => {\n  const updated = useRef(false);\n\n  useEffect(() => {\n    if (!updated.current) {\n      updated.current = true;\n      return;\n    }\n\n    cb();\n    // eslint-disable-next-line\n  }, dependencies);\n};\n","import React, { FC, HTMLProps, useEffect, useRef, useState } from \"react\";\nimport { formatVideoTime, isMobile } from \"../shared/utils\";\n\nimport CircularProgress from \"./Icons/CircularProgress\";\nimport ClickAwayListener from \"./ClickAwayListener\";\nimport Cog from \"./Icons/Cog\";\nimport ExitFullScreen from \"./Icons/ExitFullScreen\";\nimport FullScreen from \"./Icons/FullScreen\";\nimport Pause from \"./Icons/Pause\";\nimport PauseEffect from \"./Effect/PauseEffect\";\nimport PictureInPicture from \"./Icons/PictureInPicture\";\nimport Play from \"./Icons/Play\";\nimport PlayEffect from \"./Effect/PlayEffect\";\nimport { PlayerProps } from \"../shared/types\";\nimport SettingsDialog from \"./SettingsDialog\";\nimport SettingsModal from \"./SettingsModal\";\nimport Subtitle from \"./Icons/Subtitle\";\nimport VolumeFull from \"./Icons/VolumeFull\";\nimport VolumeHalf from \"./Icons/VolumeHalf\";\nimport VolumeMuted from \"./Icons/VolumeMuted\";\nimport { useEffectUpdate } from \"../hooks/useEffectUpdate\";\n\nconst Player: FC<PlayerProps> = ({\n  playerKey,\n  src,\n  subtitles,\n  children,\n  poster,\n  seekDuration = 10,\n  internationalization,\n  playerRef: passedDownRef,\n  pictureInPicture = false,\n  keyboardShortcut = true,\n}) => {\n  const [quality, setQuality] = useState(0);\n  const [playbackSpeed, setPlaybackSpeed] = useState(\n    Number(localStorage.getItem(\"tuby-speed\")) || 1\n  );\n  const [paused, setPaused] = useState(true);\n  const [onFullScreen, setOnFullScreen] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [settingsActive, setSettingsActive] = useState(false);\n  const [subtitleIndex, setSubtitleIndex] = useState(0);\n\n  const [currentTime, setCurrentTime] = useState(0);\n  const [duration, setDuration] = useState(0);\n\n  const [seekPreview, setSeekPreview] = useState<null | {\n    time: number;\n    offset: number;\n  }>(null);\n\n  const [loadedData, setLoadedData] = useState(false);\n\n  const [volume, setVolume] = useState(\n    isNaN(parseInt(localStorage.getItem(\"tuby-volume\") as string))\n      ? 100\n      : Number(localStorage.getItem(\"tuby-volume\"))\n  );\n  const [isMuted, setIsMuted] = useState(\n    Boolean(Number(localStorage.getItem(\"tuby-muted\")))\n  );\n\n  const [hoverEnabled, setHoverEnabled] = useState(true);\n\n  const [pauseDidUpdate, setPauseDidUpdate] = useState(false);\n\n  const myRef = useRef<HTMLVideoElement>(null);\n  const playerRef = passedDownRef || myRef;\n  const containerRef = useRef<HTMLDivElement>(null);\n  const seekRef = useRef<HTMLDivElement>(null);\n  const mouseDownRef = useRef<Boolean>(false);\n  const timeoutRef = useRef<any>(null);\n  const fullscreenToggleButton = useRef<HTMLButtonElement>(null);\n  const pauseButton = useRef<HTMLButtonElement>(null);\n  const volumeButtonRef = useRef<HTMLButtonElement>(null);\n  const subtitleButtonRef = useRef<HTMLButtonElement>(null);\n\n  const seekTime = (amount: number) => {\n    playerRef.current && (playerRef.current.currentTime += amount);\n  };\n\n  const updateHoverState = () => {\n    if (timeoutRef.current) clearTimeout(timeoutRef.current);\n\n    setHoverEnabled(true);\n\n    timeoutRef.current = setTimeout(() => {\n      setHoverEnabled(false);\n    }, 2000);\n  };\n\n  const toggleSound = () => {\n    setIsMuted(!isMuted);\n    setVolume(volume === 0 ? 100 : volume);\n  };\n\n  const handleSeeking = (offsetX: number) => {\n    if (!playerRef.current || !seekRef.current) return;\n\n    const offset =\n      (offsetX - seekRef.current.getBoundingClientRect().left) /\n      seekRef.current.offsetWidth;\n\n    const newTime =\n      (Math.abs(offset) === Infinity || isNaN(offset) ? 0 : offset) *\n      playerRef.current.duration;\n\n    playerRef.current.currentTime = newTime;\n\n    setCurrentTime(newTime);\n  };\n\n  const handleSeekPreview = (offsetX: number) => {\n    if (!playerRef.current || !seekRef.current) return;\n\n    const left = seekRef.current.getBoundingClientRect().left;\n\n    let offsetInPercentage = (offsetX - left) / seekRef.current.offsetWidth;\n\n    offsetInPercentage =\n      Math.abs(offsetInPercentage) === Infinity || isNaN(offsetInPercentage)\n        ? 0\n        : offsetInPercentage;\n\n    let offsetInPixel = offsetInPercentage * seekRef.current.offsetWidth;\n\n    let newTime = offsetInPercentage * playerRef.current.duration;\n\n    if (isNaN(newTime)) setSeekPreview(null);\n\n    if (newTime < 0) newTime = 0;\n\n    setSeekPreview({\n      time: Math.round(newTime),\n      offset: offsetInPixel,\n    });\n  };\n\n  const listenMouseMoveSeeking = () => {\n    const moveHandler = (e: MouseEvent) => {\n      handleSeekPreview(e.clientX);\n      if (mouseDownRef.current) {\n        handleSeeking(e.clientX);\n      }\n    };\n    window.addEventListener(\"mousemove\", moveHandler);\n\n    const touchMoveHandler = (e: TouchEvent) => {\n      handleSeekPreview(e.touches?.[0]?.pageX);\n      if (mouseDownRef.current) {\n        handleSeeking(e.touches?.[0]?.pageX);\n      }\n    };\n    window.addEventListener(\"touchmove\", touchMoveHandler);\n\n    window.addEventListener(\"mouseup\", () => {\n      window.removeEventListener(\"mousemove\", moveHandler);\n      mouseDownRef.current = false;\n      setSeekPreview(null);\n    });\n\n    window.addEventListener(\"touchend\", () => {\n      window.removeEventListener(\"touchmove\", touchMoveHandler);\n      mouseDownRef.current = false;\n      setSeekPreview(null);\n    });\n  };\n\n  const handleScreenClicked = (e: any) => {\n    if (settingsActive) {\n      setSettingsActive(false);\n    } else {\n      setPaused(prev => !prev);\n    }\n\n    if (e.detail === 2 && !isMobile()) {\n      setOnFullScreen(prev => !prev);\n    }\n  };\n\n  useEffectUpdate(() => {\n    updateHoverState();\n    setPauseDidUpdate(true);\n    if (paused) {\n      playerRef.current?.pause();\n    } else {\n      playerRef.current?.play();\n    }\n    (document?.activeElement as any)?.blur();\n  }, [paused]);\n\n  useEffect(() => {\n    if (playerRef.current) {\n      playerRef.current.muted = isMuted;\n      playerRef.current.volume = isMuted ? 0 : volume / 100;\n    }\n\n    localStorage.setItem(\"tuby-volume\", String(volume));\n    localStorage.setItem(\"tuby-muted\", String(+isMuted));\n  }, [volume, isMuted]);\n\n  useEffect(() => {\n    const changeHandler = () => {\n      let doc = document as any;\n      const fullscreenElement =\n        doc.fullscreenElement ||\n        doc.webkitFullscreenElement ||\n        doc.webkitCurrentFullScreenElement ||\n        doc.mozFullScreenElement ||\n        doc.msFullscreenElement;\n\n      if (fullscreenElement) {\n        setOnFullScreen(true);\n      } else {\n        setOnFullScreen(false);\n      }\n    };\n\n    document.addEventListener(\"fullscreenchange\", changeHandler);\n    document.addEventListener(\"webkitfullscreenchange\", changeHandler);\n    document.addEventListener(\"mozfullscreenchange\", changeHandler);\n    document.addEventListener(\"MSFullscreenChange\", changeHandler);\n\n    const endFullScreenHandler = () => {\n      changeHandler();\n      setPaused(true);\n    };\n\n    let player = playerRef.current;\n\n    player?.addEventListener(\"webkitendfullscreen\", endFullScreenHandler);\n\n    return () => {\n      document.removeEventListener(\"fullscreenchange\", changeHandler);\n      document.removeEventListener(\"webkitfullscreenchange\", changeHandler);\n      document.removeEventListener(\"mozfullscreenchange\", changeHandler);\n      document.removeEventListener(\"MSFullscreenChange\", changeHandler);\n\n      player?.removeEventListener(\"webkitendfullscreen\", endFullScreenHandler);\n    };\n  }, []);\n\n  useEffectUpdate(() => {\n    try {\n      if (onFullScreen) {\n        if (isMobile()) {\n          let elem = playerRef.current as any;\n          const requestFullScreen =\n            elem.requestFullscreen ||\n            elem.webkitRequestFullscreen ||\n            elem.webkitRequestFullScreen ||\n            elem.webkitEnterFullscreen ||\n            elem.mozRequestFullScreen ||\n            elem.msRequestFullscreen;\n          requestFullScreen?.call(elem);\n        } else {\n          let elem = containerRef.current as any;\n          const requestFullScreen =\n            elem.requestFullscreen ||\n            elem.webkitRequestFullscreen ||\n            elem.webkitRequestFullScreen ||\n            elem.webkitEnterFullscreen ||\n            elem.mozRequestFullScreen ||\n            elem.msRequestFullscreen;\n          requestFullScreen?.call(elem);\n        }\n      } else {\n        let doc = document as any;\n\n        const exitFullScreen =\n          doc.exitFullscreen ||\n          doc.webkitExitFullscreen ||\n          doc.webkitCancelFullScreen ||\n          doc.mozCancelFullScreen ||\n          doc.msExitFullscreen;\n\n        exitFullScreen?.call(document);\n      }\n    } catch (error) {}\n    updateHoverState();\n  }, [onFullScreen]);\n\n  useEffectUpdate(() => {\n    if (!playerRef.current) return;\n\n    playerRef.current.addEventListener(\n      \"loadeddata\",\n      () => {\n        if (playerRef.current) {\n          if (currentTime) {\n            playerRef.current.currentTime = currentTime;\n            playerRef.current.play();\n          }\n        }\n      },\n      { once: true }\n    );\n\n    playerRef.current.addEventListener(\"error\", () => {\n      playerRef.current?.pause();\n    });\n  }, [quality]);\n\n  useEffect(() => {\n    if (!playerRef.current) return;\n\n    localStorage.setItem(\"tuby-speed\", String(playbackSpeed));\n\n    playerRef.current.playbackRate = playbackSpeed;\n  }, [playbackSpeed]);\n\n  useEffect(() => {\n    const keyHandler = (e: KeyboardEvent) => {\n      if (!keyboardShortcut) return;\n\n      if (containerRef.current?.contains(document.activeElement))\n        (document.activeElement as any)?.blur();\n      // Pause\n      if (\n        (keyboardShortcut === true || keyboardShortcut.pause) &&\n        (e.key === \" \" || e.key === \"k\")\n      )\n        pauseButton.current?.click();\n      // Rewind\n      if (\n        (keyboardShortcut === true || keyboardShortcut.rewind) &&\n        e.key === \"ArrowLeft\"\n      )\n        seekTime(-seekDuration);\n      // Forward\n      if (\n        (keyboardShortcut === true || keyboardShortcut.forward) &&\n        e.key === \"ArrowRight\"\n      )\n        seekTime(seekDuration);\n      // Full screen\n      if (\n        (keyboardShortcut === true || keyboardShortcut.fullScreen) &&\n        e.key === \"f\"\n      )\n        fullscreenToggleButton.current?.click();\n      // Mute\n      if ((keyboardShortcut === true || keyboardShortcut.mute) && e.key === \"m\")\n        volumeButtonRef.current?.click();\n      // Subtitle\n      if (\n        (keyboardShortcut === true || keyboardShortcut.subtitle) &&\n        e.key === \"c\"\n      )\n        subtitleButtonRef.current?.click();\n    };\n\n    const spacePressHandler = (e: KeyboardEvent) => {\n      if (keyboardShortcut && e.key === \" \") e.preventDefault();\n    };\n\n    window.addEventListener(\"keyup\", keyHandler);\n\n    window.addEventListener(\"keydown\", spacePressHandler);\n\n    return () => {\n      window.removeEventListener(\"keyup\", keyHandler);\n      window.removeEventListener(\"keydown\", spacePressHandler);\n    };\n  }, [seekDuration, keyboardShortcut]);\n\n  const videoProps: HTMLProps<HTMLVideoElement> & { src: string } = {\n    crossOrigin: \"anonymous\",\n    playsInline: true,\n    onClickCapture: handleScreenClicked,\n    controls: false,\n    src: typeof src === \"string\" ? src : src[quality].url,\n    onWaiting: () => setLoading(true),\n    onPlaying: () => {\n      setLoading(false);\n      setPaused(false);\n    },\n    onLoadedData: () => {\n      setLoadedData(true);\n      setDuration(playerRef.current?.duration || 0);\n      let currentTime;\n      if (playerKey) {\n        currentTime = Number(\n          localStorage.getItem(`${playerKey}-time`) as string\n        );\n      } else currentTime = 0;\n\n      setCurrentTime(currentTime);\n      playerRef.current && (playerRef.current.currentTime = currentTime);\n    },\n    onTimeUpdate: () => {\n      if (playerKey)\n        localStorage.setItem(\n          `${playerKey}-time`,\n          String(playerRef.current?.currentTime || 0)\n        );\n      setCurrentTime(playerRef.current?.currentTime || 0);\n      setDuration(playerRef.current?.duration || 0);\n    },\n    onEnded: () => {\n      setPaused(true);\n    },\n    onMouseMove: () => updateHoverState(),\n\n    children: (\n      <>\n        {subtitles &&\n          subtitles.length > 0 &&\n          subtitleIndex >= 0 &&\n          loadedData && (\n            <track\n              kind=\"subtitles\"\n              srcLang={subtitles[subtitleIndex].lang}\n              label={subtitles[subtitleIndex].language}\n              src={subtitles[subtitleIndex].url}\n              default\n            />\n          )}\n      </>\n    ),\n  };\n\n  return (\n    <>\n      {poster && !pauseDidUpdate && (\n        <img src={poster} className=\"tuby-poster\" alt=\"Tuby Poster\" />\n      )}\n      <div\n        ref={containerRef}\n        className={`tuby-container ${\n          hoverEnabled ? \"tuby-controls-hovered\" : \"\"\n        }`}\n      >\n        {children ? (\n          children(playerRef, videoProps)\n        ) : (\n          <video ref={playerRef} {...videoProps} />\n        )}\n\n        {((!loadedData && pauseDidUpdate) || (loading && !paused)) && (\n          <div className=\"tuby-center\">\n            <CircularProgress />\n          </div>\n        )}\n\n        {paused && pauseDidUpdate && (\n          <div className=\"tuby-center\" onClickCapture={handleScreenClicked}>\n            <PauseEffect />\n          </div>\n        )}\n\n        {!paused && pauseDidUpdate && (\n          <div className=\"tuby-center\" onClickCapture={handleScreenClicked}>\n            <PlayEffect />\n          </div>\n        )}\n\n        {!pauseDidUpdate && (\n          <div className=\"tuby-center\" onClickCapture={handleScreenClicked}>\n            <Play className=\"tuby-icon-md\" />\n          </div>\n        )}\n\n        <div\n          onTouchEnd={() => setHoverEnabled(true)}\n          onClick={() => setHoverEnabled(true)}\n          onMouseEnter={() =>\n            timeoutRef.current && clearTimeout(timeoutRef.current)\n          }\n          className={`tuby-controls ${\n            paused || settingsActive ? \"tuby-show\" : \"\"\n          }`}\n        >\n          <div\n            ref={seekRef}\n            onMouseDown={e => {\n              mouseDownRef.current = true;\n              handleSeeking(e.clientX);\n              listenMouseMoveSeeking();\n            }}\n            onTouchStart={e => {\n              mouseDownRef.current = true;\n              handleSeeking(e.touches?.[0]?.pageX);\n              listenMouseMoveSeeking();\n            }}\n            onMouseMove={e => handleSeekPreview(e.clientX)}\n            onMouseLeave={() => setSeekPreview(null)}\n            className=\"tuby-seek\"\n          >\n            <div className=\"tuby-seek-bar\">\n              <div\n                style={{\n                  width:\n                    duration !== 0\n                      ? `${Math.round((currentTime / duration) * 1000) / 10}%`\n                      : 0,\n                }}\n                className=\"tuby-seek-left\"\n              ></div>\n            </div>\n            {seekPreview !== null && (\n              <div\n                className=\"tuby-seek-preview\"\n                style={{\n                  left:\n                    seekPreview.offset < 16\n                      ? 0\n                      : seekPreview.offset >\n                        (seekRef.current?.offsetWidth || 0) - 16\n                      ? \"auto\"\n                      : seekPreview.offset,\n                  right:\n                    seekPreview.offset >\n                    (seekRef.current?.offsetWidth || 0) - 16\n                      ? 0\n                      : \"auto\",\n                  transform:\n                    seekPreview.offset < 16 ||\n                    seekPreview.offset >\n                      (seekRef.current?.offsetWidth || 0) - 16\n                      ? \"none\"\n                      : \"translateX(-50%)\",\n                }}\n              >\n                {formatVideoTime(seekPreview.time)}\n              </div>\n            )}\n          </div>\n          <div className=\"tuby-controls-main\">\n            <div className=\"tuby-controls-left\">\n              <button\n                ref={pauseButton}\n                className=\"tuby-center-container tuby-tooltips-left\"\n                data-tuby-tooltips={\n                  paused\n                    ? internationalization?.tooltipsPlay || \"Play (k)\"\n                    : internationalization?.tooltipsPause || \"Pause (k)\"\n                }\n                onClickCapture={() => setPaused(prev => !prev)}\n              >\n                {paused ? (\n                  <Play className=\"tuby-icon-sm\" />\n                ) : (\n                  <Pause className=\"tuby-icon-sm\" />\n                )}\n              </button>\n\n              <div className=\"tuby-volume-container\">\n                <button\n                  ref={volumeButtonRef}\n                  className=\"tuby-center-container\"\n                  data-tuby-tooltips={\n                    isMuted || volume === 0\n                      ? internationalization?.tooltipsUnmute || \"Unmute (m)\"\n                      : internationalization?.tooltipsMute || \"Mute (m)\"\n                  }\n                  onClickCapture={toggleSound}\n                >\n                  {isMuted || volume === 0 ? (\n                    <VolumeMuted className=\"tuby-icon-sm\" />\n                  ) : volume === 100 ? (\n                    <VolumeFull className=\"tuby-icon-sm\" />\n                  ) : (\n                    <VolumeHalf className=\"tuby-icon-sm\" />\n                  )}\n                </button>\n                <div className=\"tuby-volume-wrapper\">\n                  <input\n                    className=\"tuby-volume-slider\"\n                    type=\"range\"\n                    min={0}\n                    max={100}\n                    value={isMuted ? 0 : volume}\n                    onChange={e => {\n                      setVolume(+e.target.value);\n                      setIsMuted(+e.target.value === 0);\n                    }}\n                  />\n                  <div\n                    className=\"tuby-volume-left-bar\"\n                    style={{ width: isMuted ? 0 : volume * 0.52 }}\n                  ></div>\n                </div>\n              </div>\n\n              <div className=\"tuby-time\">\n                {formatVideoTime(currentTime)}\n                {\" / \"}\n                {formatVideoTime(duration)}\n              </div>\n            </div>\n\n            <div className=\"tuby-controls-right\">\n              {Boolean(subtitles) && (\n                <button\n                  ref={subtitleButtonRef}\n                  className={`tuby-center-container ${\n                    subtitleIndex >= 0 ? \"tuby-icon-underline\" : \"\"\n                  }`}\n                  data-tuby-tooltips={\n                    internationalization?.tooltipsSubtitles || `Subtitles (c)`\n                  }\n                  onClickCapture={() =>\n                    subtitleIndex >= 0\n                      ? setSubtitleIndex(-1)\n                      : setSubtitleIndex(0)\n                  }\n                >\n                  <Subtitle className=\"tuby-icon-sm\" />\n                </button>\n              )}\n              <ClickAwayListener onClickAway={() => setSettingsActive(false)}>\n                {ref => (\n                  <div ref={ref} style={{ position: \"relative\" }}>\n                    <button\n                      className=\"tuby-center-container\"\n                      onClickCapture={() => setSettingsActive(prev => !prev)}\n                      {...(!settingsActive\n                        ? {\n                            \"data-tuby-tooltips\":\n                              internationalization?.tooltipsSettings ||\n                              \"Settings\",\n                          }\n                        : {})}\n                    >\n                      <Cog className=\"tuby-icon-sm\" />\n                    </button>\n\n                    {!isMobile() ? (\n                      <SettingsDialog\n                        settingsActive={settingsActive}\n                        setSettingsActive={setSettingsActive}\n                        src={src}\n                        subtitles={subtitles}\n                        playbackSpeed={playbackSpeed}\n                        setPlaybackSpeed={setPlaybackSpeed}\n                        subtitleIndex={subtitleIndex}\n                        setSubtitleIndex={setSubtitleIndex}\n                        quality={quality}\n                        setQuality={setQuality}\n                        internationalization={internationalization}\n                      />\n                    ) : (\n                      <SettingsModal\n                        settingsActive={settingsActive}\n                        setSettingsActive={setSettingsActive}\n                        src={src}\n                        subtitles={subtitles}\n                        playbackSpeed={playbackSpeed}\n                        setPlaybackSpeed={setPlaybackSpeed}\n                        subtitleIndex={subtitleIndex}\n                        setSubtitleIndex={setSubtitleIndex}\n                        quality={quality}\n                        setQuality={setQuality}\n                        internationalization={internationalization}\n                      />\n                    )}\n                  </div>\n                )}\n              </ClickAwayListener>\n\n              {pictureInPicture && (document as any)?.pictureInPictureEnabled && (\n                <button\n                  className=\"tuby-center-container\"\n                  ref={fullscreenToggleButton}\n                  data-tuby-tooltips=\"Picture in Picture\"\n                  onClickCapture={() => {\n                    try {\n                      let doc = document as any;\n                      if (doc?.pictureInPictureElement)\n                        doc?.exitPictureInPicture();\n                      else\n                        (playerRef.current as any)?.requestPictureInPicture();\n                    } catch (error) {}\n                  }}\n                >\n                  <PictureInPicture className=\"tuby-icon-sm\" />\n                </button>\n              )}\n\n              <button\n                className=\"tuby-center-container tuby-tooltips-right\"\n                ref={fullscreenToggleButton}\n                data-tuby-tooltips={`${\n                  onFullScreen\n                    ? internationalization?.tooltipsExitFullscreen ||\n                      \"Exit full screen (f)\"\n                    : internationalization?.tooltipsFullscreen ||\n                      \"Full screen (f)\"\n                }`}\n                onClickCapture={() => setOnFullScreen(prev => !prev)}\n              >\n                {onFullScreen ? (\n                  <ExitFullScreen className=\"tuby-icon-sm\" />\n                ) : (\n                  <FullScreen className=\"tuby-icon-sm\" />\n                )}\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Player;\n","import React, { FC } from \"react\";\n\nimport ClientRender from \"./components/ClientRender\";\nimport ErrorBoundary from \"./components/ErrorBoundary\";\nimport Main from \"./components/Main\";\nimport { PlayerProps } from \"./shared/types\";\n\nexport const Player: FC<PlayerProps> = props => {\n  const { dimensions, primaryColor } = props;\n\n  return (\n    <div\n      className=\"tuby\"\n      style={{\n        ...(typeof dimensions === \"number\"\n          ? { width: \"100%\", height: 0, paddingBottom: `${dimensions}%` }\n          : typeof dimensions === \"object\"\n          ? {\n              width: dimensions.width,\n              height: dimensions.height,\n            }\n          : { width: \"100%\", height: 0, paddingBottom: \"56.25%\" }),\n        ...(primaryColor\n          ? {\n              [\"--tuby-primary-color\" as any]: primaryColor,\n            }\n          : {}),\n      }}\n    >\n      <ClientRender>\n        <ErrorBoundary renderer={props.children} {...props}>\n          <Main {...props} />\n        </ErrorBoundary>\n      </ClientRender>\n    </div>\n  );\n};\n\nexport { PlayerProps } from \"./shared/types\";\n"],"names":["ClientRender","children","useState","window","rendered","setRendered","typeofWindow","useEffect","React","ErrorBoundary","props","state","hasError","playerRef","createRef","videoProps","crossOrigin","playsInline","controls","src","url","subtitles","length","map","subtitle","index","key","lang","kind","srcLang","label","language","getDerivedStateFromError","render","className","renderer","ref","Component","formatVideoTime","time","date","Date","setSeconds","timeString","toISOString","slice","result","startsWith","error","isMobile","test","navigator","userAgent","CircularProgress","viewBox","cx","cy","r","ClickAwayListener","onClickAway","childrenRef","useRef","handler","e","current","contains","target","addEventListener","removeEventListener","Cog","others","fill","xmlns","d","ExitFullScreen","FullScreen","Pause","PauseEffect","PauseIcon","PictureInPicture","Play","width","height","PlayEffect","PlayIcon","Check","ChevronLeft","ChevronRight","Speed","SelectSubtitle","SettingsDialog","settingsActive","playbackSpeed","setPlaybackSpeed","subtitleIndex","setSubtitleIndex","quality","setQuality","internationalization","setHeight","activeSection","setActiveSection","mainSectionRef","speedSectionRef","subtitlesSectionRef","qualitySectionRef","sections","main","speed","elementHeight","offsetHeight","scrollTo","style","onClick","settingsPlaybackSpeed","settingsSubtitles","Quality","settingsQuality","Array","_","settingsPlaybackSpeedNormal","item","settingsSubtitlesOff","source","SettingsModal","setSettingsActive","stopPropagation","tooltipsSettings","value","onChange","padding","settingsModalOff","Subtitle","VolumeFull","VolumeHalf","VolumeMuted","useEffectUpdate","cb","dependencies","updated","Player","playerKey","poster","seekDuration","passedDownRef","pictureInPicture","keyboardShortcut","Number","localStorage","getItem","paused","setPaused","onFullScreen","setOnFullScreen","loading","setLoading","currentTime","setCurrentTime","duration","setDuration","seekPreview","setSeekPreview","loadedData","setLoadedData","isNaN","parseInt","volume","setVolume","Boolean","isMuted","setIsMuted","hoverEnabled","setHoverEnabled","pauseDidUpdate","setPauseDidUpdate","myRef","containerRef","seekRef","mouseDownRef","timeoutRef","fullscreenToggleButton","pauseButton","volumeButtonRef","subtitleButtonRef","seekTime","amount","updateHoverState","clearTimeout","setTimeout","toggleSound","handleSeeking","offsetX","offset","getBoundingClientRect","left","offsetWidth","newTime","Math","abs","Infinity","handleSeekPreview","offsetInPercentage","offsetInPixel","round","listenMouseMoveSeeking","moveHandler","clientX","touchMoveHandler","touches","pageX","handleScreenClicked","prev","detail","pause","play","document","activeElement","blur","muted","setItem","String","changeHandler","doc","fullscreenElement","webkitFullscreenElement","webkitCurrentFullScreenElement","mozFullScreenElement","msFullscreenElement","endFullScreenHandler","player","elem","requestFullScreen","requestFullscreen","webkitRequestFullscreen","webkitRequestFullScreen","webkitEnterFullscreen","mozRequestFullScreen","msRequestFullscreen","call","exitFullScreen","exitFullscreen","webkitExitFullscreen","webkitCancelFullScreen","mozCancelFullScreen","msExitFullscreen","once","playbackRate","keyHandler","click","rewind","forward","fullScreen","mute","spacePressHandler","preventDefault","onClickCapture","onWaiting","onPlaying","onLoadedData","onTimeUpdate","onEnded","onMouseMove","alt","onTouchEnd","onMouseEnter","onMouseDown","onTouchStart","onMouseLeave","right","transform","tooltipsPlay","tooltipsPause","tooltipsUnmute","tooltipsMute","type","min","max","tooltipsSubtitles","position","pictureInPictureEnabled","pictureInPictureElement","exitPictureInPicture","requestPictureInPicture","tooltipsExitFullscreen","tooltipsFullscreen","dimensions","primaryColor","paddingBottom","Main"],"mappings":"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"}